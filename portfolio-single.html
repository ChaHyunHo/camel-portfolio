<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ChaHyunHo Board Project</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="Retrina Group" />

    <!--  FavIcon  -->
    <link rel="shortcut icon" href="http://placehold.it/60x60">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Muli:400,600" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet">

    <!--  Bootstrap CSS  -->
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <!--  Line Icon CSS  -->
    <link rel="stylesheet" href="assets/css/LineIcons.css">
    <!--  Font Awesome CSS  -->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <!--  Animate CSS  -->
    <link rel="stylesheet" href="assets/css/animate.css">
    <!--  Magnific Popup CSS  -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <!--  Owl-carousel CSS  -->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <!--  Custom Style CSS  -->
    <link rel="stylesheet" href="assets/css/style.css">

</head>
<body data-spy="scroll" data-target="#scrollspy" data-offset="61" class="pt-hero">

    <style>
        .textFontFix{
            color: #545454;
        }  

        .liMarginLeft {
            margin-left: 40px;
        }  
    </style>

    <!--  Pre Loader  -->
    <div id="overlayer"></div>
    <span class="loader"></span>

    <!--    Header Start    -->
    <header id="header" class="header page-header bg-white fixed-top">
        <nav id="scrollspy" class="navbar navbar-expand-lg header-nav">
            <div class="container">
                <!--  Navbar Toggler Button Start -->
                <button class="navbar-toggler collapsed " type="button" data-toggle="collapse" data-target="#toggle-menu" aria-controls="toggle-menu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="lni-menu size-md"></span>
                </button>
                <!--  Navbar Toggler Button End -->
                <div class="collapse navbar-collapse" id="toggle-menu">
                    <ul class="navbar-nav nav-pills ml-auto">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/camel-portfolio">Back</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <!--    Header End    -->

    <!--    Hero Start    -->
    <section class="hero page-hero py-6" id="hero">
        <div class="hero-center">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-12">
                        <div class="text-center hero-content mx-auto">
                            <h1 class="text-white mb-4">Board Project</h1>
                            <p class="mx-auto text-white">
                                <a href="index.html" class="text-white">Home</a>
                                /
                                <span class="text-white">CamelCase</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--    Hero End    -->

    <!--    Single Portfolio Start    -->
    <section id="single-portfolio" class="single-portfolio py-6">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-10 offset-md-1">
                    <div class="text-center">
                        <h2 class="text-dark mb-3">단독 <span class="base-color"> 프로젝트 </span></h2>
                      <!--   <p class="text-muted max-width-450">In a professional context it often happens that private clients corder a publication to be made.</p> -->
                    </div>
                    <div class="row contact-info mt-5">
                        <div class="col-md-4">
                            <div class="text-center">
                                <div>
                                    <h6 style="font-size: 15px;"><b>프로젝트 시작일:</b></h6>
                                    <p class="text-muted mb-0">2019.09.20~</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 p-title-border mt-3 mt-md-0">
                            <div class="text-center">
                                <div>
                                    <h6 class="contact_detail-title" style="font-size: 15px;">
                                        <b>프로젝트 완성일:</b></h6>
                                    <p class="text-muted mb-0"> 2019.11.15</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mt-3 mt-md-0">
                            <div class="text-center">
                                <div>
                                    <h6>Skills:</h6>
                                    <p class="text-muted mb-0">HTML / CSS3 / Bootstrap / JS / Jquery / Spring  / Mysql / Mybatis  </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center" style="margin-top: 60px;">
                        <h2 class="text-dark mb-3">주요 <span class="base-color"> 기능 </span></h2>
                    </div>
                    <div class="row">
                            <span class="textFontFix" style="font-size: 20px; 
                                margin-left: 20px;">1. Email 인증을 통한 회원가입 기능 및 로그인 에러처리</span>
                    </div>
                    <div class="row">
                            <span class="text-muted" style="font-size: 15px; margin-top: 20px; 
                                margin-left: 20px;">시연 영상<span style="font-size: 10px;">(자막설명)</span></span>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <iframe style="margin-left: 20px;" width="920" height="525" src="https://www.youtube.com/embed/P7PAQH_9CtY" frameborder="0" 
                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                        </iframe>
                    </div>
                    <div class="text-md-left mt-5">
                        <p class="my-3">
                            <ul class="textFontFix">
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/d6b9b0d4f79da2a15b063ee5b08c96455bbbf6aa/charamgBoard/src/main/java/com/charamg/security/domain/CustomUser.java#L37">
                                    <li>CustomUser클래스를 이용한 계정 비활성 익셉션 처리 </li>
                                </a>
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/d6b9b0d4f79da2a15b063ee5b08c96455bbbf6aa/charamgBoard/src/main/java/com/charamg/security/CustomLoginFailHandler.java#L51">
                                    <li>MessageUtils 및 message.properties를 이용한 클라이언트 에러메시지 처리</li>
                                </a>
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/d6b9b0d4f79da2a15b063ee5b08c96455bbbf6aa/charamgBoard/src/main/webapp/WEB-INF/spring/security-context.xml#L18">
                                    <li>authentication-failure-handler를 이용한 로그인 에러처리</li>
                                </a>
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/d6b9b0d4f79da2a15b063ee5b08c96455bbbf6aa/charamgBoard/src/main/java/com/charamg/service/MemberServiceImpl.java#L63">
                                    <li>Mail라이브러리 및 MailUtil을 통한 해당 유저 이메일 인증 링크보내기</li>
                                </a>
                            </ul>
                        </p>

                        <p class="my-3">
                                <h5 class="textFontFix" style="color: red; font-size: 15px; margin-left: 10px;">문제 & 해결</h5>
    
                                <ul class="textFontFix" style="font-size: 14px; margin-left: 10px;">
                                    <li>스프링 시큐리티를 통해 에러메시지를 어떻게 나타낼지가 가장 큰 문제였습니다. 
                                        <br>
                                        가장 쉬운방법은 클라이언트단에 sessionScope["SPRING_SECURITY_LAST_EXCEPTION"].message
                                        <br>
                                        라는 스프링 시큐리티가 가장 마지막에 발생하는 예외를 세션에 SPRING_SECURITY_LAST_EXCEPTION 
                                        <br>
                                        키에 넣어 화면에 보여주는 방식입니다. 하지만 이것의 가장 큰 취약점은 해커가 무한으로 인증시도
                                        <br>
                                        를 할시에 세션에예외를 연속으로 계속 던지게되면서 fullGC가 발생하고 응답 속도가 느려진다는 성
                                        <br>
                                        능상의 문제였습니다. 웹에서 세션을 통해 에러메시지를 가져오는 걸 막기 위해서 세션을 통해 가져
                                        <br>
                                        온 에러메시지를 Attribute를 이용해 저장한 다음, 웹에서는 jstl로 보여주는 작업을 하였습니다. 
                                        <br>
                                        ex) request.setAttribute(errormsgname, errormsg); 
                                        <br>
                                        <a href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/d6b9b0d4f79da2a15b063ee5b08c96455bbbf6aa/charamgBoard/src/main/java/com/charamg/security/CustomLoginFailHandler.java#L60">
                                            <i style="font-size: 30px; color: black;" class="fa fa-github"></i>
                                            <span style="font-size: 9px; color: red;">code view</span>
                                        </a>
                                    </li>
                                    
                                </ul>
                            </p>
                    </div>

                    <div class="row" style="margin-top: 60px;">
                            <span class="textFontFix" style="font-size: 20px; 
                                margin-left: 20px;">2. 관리자 페이지</span>
                    </div>
                    <div class="row">
                            <span class="text-muted" style="font-size: 15px; margin-top: 20px; 
                                margin-left: 20px;">시연 영상<span style="font-size: 10px;">(자막설명)</span></span>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <iframe style="margin-left: 20px;" width="920" height="525" src="https://www.youtube.com/embed/GrgRtugqz5A" frameborder="0" 
                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                        </iframe>
                    </div>
                    <div class="text-md-left mt-5">
                        <p class="my-3">
                            <ul class="textFontFix">
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/dbeee29bfb06824b022a0438ff30e7f65f546bbc/charamgBoard/src/main/webapp/WEB-INF/views/adminpage.jsp#L137">
                                    <li>제이쿼리를 통한 선택자로 유저 정보 가져오기</li>
                                </a>
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/dbeee29bfb06824b022a0438ff30e7f65f546bbc/charamgBoard/src/main/java/com/charamg/controller/MemberController.java#L164">
                                    <li>권한 변경</li>
                                </a>
                                <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/dbeee29bfb06824b022a0438ff30e7f65f546bbc/charamgBoard/src/main/java/com/charamg/controller/MemberController.java#L186">
                                    <li>회원 탈퇴</li>
                                </a>
                            </ul>
                        </p>

                        <p class="my-3">
                                <h5 class="textFontFix" style="color: red; font-size: 15px; margin-left: 10px;">문제 & 해결</h5>
    
                                <ul class="textFontFix" style="font-size: 14px; margin-left: 10px;">
                                    <li>관리자 페이지의 주요 기능은 회원탈퇴와 권한 변경입니다.
                                        <br>
                                        이 두가지 기능을 만들며 가장 고민했던 부분은 세션에 남아있는 아이디 였습니다.
                                        <br>
                                        만약 자기자신을 회원탈퇴하거나 권한을 변경할경우 로그인한 아이디 세션은 그대
                                        <br>
                                        로 남아있기 때문에 권한이나 회원탈퇴를 해도 아무런 변화 없이 다른아이디를 탈
                                        <br>
                                        퇴 시키거나 권한을 변경하고 심지어 댓글이나 게시글 작성까지 모든게 가능했습니
                                        <br>
                                        다. 이를 해결하기위한 방법은 간단했습니다. 로그아웃을 이용한 시큐리티 세션을 
                                        <br>
                                        초기화하는 방법이었습니다. 어드민페이지의 include 되어있는 헤더쪽 로그아웃폼을 
                                        <br>
                                        이용해 회원탈퇴나 권한변경 후 ajax로 받아온 결과를 자기자신일 경우를 판단하여  
                                        <br>
                                        제이쿼리로 로그아웃 폼을이용해 로그아웃 처리를 하였습니다.
                                        <br>
                                        <a href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/dbeee29bfb06824b022a0438ff30e7f65f546bbc/charamgBoard/src/main/webapp/WEB-INF/views/adminpage.jsp#L226">
                                            <i style="font-size: 30px; color: black;" class="fa fa-github"></i>
                                            <span style="font-size: 9px; color: red;">code view</span>
                                        </a>
                                    </li>
                                    
                                </ul>
                            </p>

                            <div class="row" style="margin-top: 60px;">
                                <span class="textFontFix" style="font-size: 20px; 
                                    margin-left: 20px;">3. 게시판 좋아요</span>
                        </div>
                        <div class="row">
                                <span class="text-muted" style="font-size: 15px; margin-top: 20px; 
                                    margin-left: 20px;">시연 영상<span style="font-size: 10px;">(자막설명)</span></span>
                        </div>
                        <div class="row" style="margin-top: 10px;">
                            <iframe style="margin-left: 20px;" width="920" height="525" src="https://www.youtube.com/embed/xAsCdGBoO-4" frameborder="0" 
                            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                            </iframe>
                        </div>
                        <div class="text-md-left mt-5">
                            <p class="my-3">
                                <ul class="textFontFix">
                                    <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/949402626b31dfebb1e94b1dad4e8ec125e5e79d/charamgBoard/src/main/java/com/charamg/controller/BoardController.java#L103">
                                        <li>해당 게시글 페이지 이동시 LikeVO객체를 이용한 추천수 model로 client에 내려주기</li>
                                    </a>
                                    <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/949402626b31dfebb1e94b1dad4e8ec125e5e79d/charamgBoard/src/main/webapp/WEB-INF/views/board/get.jsp#L706">
                                        <li>모델로 내려온 추천수를 이용한 클릭 이벤트시 좋아요 취소 또는 선택 </li>
                                    </a>
                                    <a class="textFontFix" href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/949402626b31dfebb1e94b1dad4e8ec125e5e79d/charamgBoard/src/main/webapp/WEB-INF/views/board/get.jsp#L721">
                                        <li>ajax로 좋아요 총 갯수 가져오고 화면에 표시하기</li>
                                    </a>
                                </ul>
                            </p>
    
                            <p class="my-3">
                                    <h5 class="textFontFix" style="color: red; font-size: 15px; margin-left: 10px;">문제 & 해결</h5>
        
                                    <ul class="textFontFix" style="font-size: 14px; margin-left: 10px;">
                                        <li>AJAX를 이용해 실시간으로 좋아요 갯수를 표시하는 부분에서 애로사항이 많았습니다.
                                            <br>
                                            처음 좋아요 태그를 클릭했을 때에 클릭 이벤트에 if 문으로 좋아요 여부를 가려서 
                                            <br>
                                            success 함수로 마지막에 좋아요 토탈값을 가지고 오는 식으로 결정하였습니다.
                                            <br>
                                            좋아요 토탈값을 또 다른 AJAX 문을 이용해서 전역변수(totalCnt)에 넣는 코드를 
                                            <br>
                                            작성하였습니다. 결과적으로 정말 어리석은 방법이었습니다. 첫 번째 문제는 클릭 
                                            <br>
                                            이벤트시에 AJAX의 같은 URL을 요청을 해야 실시간 결괏값을 받을 수 있다는 점 두 번째
                                            <br>
                                             문제는 여러 개의 AJAX에 똑같은 URL을 요청하지 못하는 점 이었습니다. 
                                             <br>
                                             AJAX의 입장만 생각했던 게 가장 큰 문제였습니다. 문제의 해결은 생각 외로 간단했던 
                                             <br>
                                             것 같습니다. 컨트롤러 단에서 토탈 값을 서비스에서 받아와 해쉬맵으로 토탈 값을 추
                                             <br>
                                             가해서 내려주었습니다.
                                            <br>
                                            <a href="https://github.com/ChaHyunHo/CamelCaseBoard/blob/949402626b31dfebb1e94b1dad4e8ec125e5e79d/charamgBoard/src/main/java/com/charamg/controller/BoardController.java#L138">
                                                <i style="font-size: 30px; color: black;" class="fa fa-github"></i>
                                                <span style="font-size: 9px; color: red;">code view</span>
                                            </a>
                                        </li>
                                        
                                    </ul>
                                </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--    Single Portfolio  End    -->

    <!--    Single Portfolio Start 2    -->
    <section id="single-portfolio" class="single-portfolio py-6 bg-grey" style="padding: 30px;">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-10 offset-md-1">
                
                    <div class="owl-carousel mt-5">
                        <div class="portfolio-single-item">
                            <img src="assets/img/boardGet.PNG" class="d-block w-100 rounded" alt="...">
                        </div>
                        <div class="portfolio-single-item">
                            <img src="assets/img/boardMod.PNG" class="d-block w-100 rounded" alt="...">
                        </div>
                        <div class="portfolio-single-item">
                            <img src="assets/img/boardReply.PNG" class="d-block w-100 rounded" alt="...">
                        </div>
                        <div class="portfolio-single-item">
                            <img src="assets/img/boardReplyMod.PNG" class="d-block w-100 rounded" alt="...">
                        </div>
                    </div>
                    <ul class="textFontFix" style="margin-top: 50px;">
                        게시판 기본적인 기능
                        <li class="liMarginLeft">게시글 쓰기</li>
                        <li class="liMarginLeft">게시글 수정</li>
                        <li class="liMarginLeft">게시글 댓글 등록</li>
                        <li class="liMarginLeft">게시글 댓글 수정</li>
                    </ul>    
                </div>
            </div>
        </div>
    </section>
    <!--    Single Portfolio  End 2    -->

    
    <!--   Footer Start  -->
        <footer class="bg-dark py-6 text-center">
            <div class="container">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://github.com/ChaHyunHo/portfolioBoard/tree/master/charamgBoard/src/main"><i style="font-size: 70px;" class="fa fa-github"></i></a>
                    </li>
                </ul>
                <p class="mt-4 mb-0 text-white">Email : <a style="color: white;" href="https://mail.naver.com/">chamym@naver.com</a> & <a href="https://mail.google.com/" style="color: white;">gusgh2254@gmail.com</a> </p>
                <p class="mt-4 mb-0 text-white"><b>차현호 PH. 010-2909-1275</b></p>
            </div>
        </footer>
        <!--   Footer End  -->

    <!-- Return to Top -->
    <a href="javascript:void(0)" class="return-to-top"><i class="lni-arrow-up"></i></a>


    <!--  JavaScripts  -->
    <script src="assets/js/jquery-3.4.1.min.js"></script>
    <!--  Bootstrap Js  -->
    <script src="assets/js/bootstrap.js"></script>
    <!--  Easing Js  -->
    <script src="assets/js/jquery.easing.min.js"></script>
    <!--  Typed Js  -->
    <script src="assets/js/typed.js"></script>
    <!--  Count Js  -->
    <script src="assets/js/jquery.countTo.js"></script>
    <!--  Isotope Js  -->
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <!--  Pop UP JS Js  -->
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <!--  Owl carousel Js  -->
    <script src="assets/js/owl.carousel.min.js"></script>
    <!--  Wow Js  -->
    <script src="assets/js/wow.min.js"></script>
    <!--  Custom JS  -->
    <script src="assets/js/uone.js"></script>

</body>
</html>